{"version":3,"file":"index.min.js","sources":["index.js"],"names":["app","CalendarModel","Backbone","Collection","extend","model","EventModel","url","comparator","a","b","start","isAfter","onDate","date","this","filter","isSame","Model","moment","get","hours","end","isBefore","push","format","add","endTime","validate","attrs","collection","takenHours","_","flatten","invoke","map","x","indexOf","length","unset","MonthModel","defaults","year","month","initialize","m","set","daysInMonth","Math","ceil","day","weekDates","num","days","dates","Router","opts","main","calendar","routes",":year/:month",":year/:month/:day","c","clean","html","MonthView","render","el","console","log","now","parseInt","DayView","View","template","$","listenTo","showDetails","events","click .back","innerHTML","append","DayTableView","div","details","ViewDetails","CreateEventView","backToMonth","history","navigate","trigger","changeModel","click .prev","click .next","$el","toJSON","weeks","i","WeekRow","week","prev","route","subtract","next","tagName","className","mouseover tr.highlight td.event","mouseout tr.highlight td.event","addEvent","destroyEvent","time","ViewHour","forEach","evt","hour","displayEvent","removeEvent","hover","e","id","currentTarget","getAttribute","addClass","attr","text","removeClass","removeAttr","toggleClass","firstDay","DayCellView","click","titles","pluck","switchToDayView","click button","data","title","s","duration","diff","delete","destroy","createEvent","preventDefault","val","startTime","isValid","create","wait","reset","validationError","document","ready","router"],"mappings":"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"}