!function(b){function c(){var a=document.getElementsByTagName("script"),b=a[a.length-1].src.split("?")[0];return b.split("/").length>0?b.split("/").slice(0,-1).join("/")+"/":""}function d(a,b,c){for(var d=0;d<b.length;d++)c(a,b[d])}var e=!1,f=!1,g=5e3,h=2e3,i=b,j=c(),k=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||!1}(),l=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||!1}(),m=!1,n=function(){function a(){var a=["-moz-grab","-webkit-grab","grab"];(c.ischrome&&!c.ischrome22||c.isie)&&(a=[]);for(var d=0;d<a.length;d++){var e=a[d];if(b.style.cursor=e,b.style.cursor==e)return e}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}if(m)return m;var b=document.createElement("div"),c={};c.haspointerlock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,c.isopera="opera"in window,c.isopera12=c.isopera&&"getUserMedia"in navigator,c.isie="all"in document&&"attachEvent"in b&&!c.isopera,c.isieold=c.isie&&!("msInterpolationMode"in b.style),c.isie7=!(!c.isie||c.isieold||"documentMode"in document&&7!=document.documentMode),c.isie8=c.isie&&"documentMode"in document&&8==document.documentMode,c.isie9=c.isie&&"performance"in window&&document.documentMode>=9,c.isie10=c.isie&&"performance"in window&&document.documentMode>=10,c.isie9mobile=/iemobile.9/i.test(navigator.userAgent),c.isie9mobile&&(c.isie9=!1),c.isie7mobile=!c.isie9mobile&&c.isie7&&/iemobile/i.test(navigator.userAgent),c.ismozilla="MozAppearance"in b.style,c.iswebkit="WebkitAppearance"in b.style,c.ischrome="chrome"in window,c.ischrome22=c.ischrome&&c.haspointerlock,c.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,c.hasmstouch=window.navigator.msPointerEnabled||!1,c.ismac=/^mac$/i.test(navigator.platform),c.isios=c.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),c.isios4=c.isios&&!("seal"in Object),c.isandroid=/android/i.test(navigator.userAgent),c.trstyle=!1,c.hastransform=!1,c.hastranslate3d=!1,c.transitionstyle=!1,c.hastransition=!1,c.transitionend=!1;for(var d=["transform","msTransform","webkitTransform","MozTransform","OTransform"],e=0;e<d.length;e++)if("undefined"!=typeof b.style[d[e]]){c.trstyle=d[e];break}c.hastransform=0!=c.trstyle,c.hastransform&&(b.style[c.trstyle]="translate3d(1px,2px,3px)",c.hastranslate3d=/translate3d/.test(b.style[c.trstyle])),c.transitionstyle=!1,c.prefixstyle="",c.transitionend=!1;for(var d=["transition","webkitTransition","MozTransition","OTransition","OTransition","msTransition","KhtmlTransition"],f=["","-webkit-","-moz-","-o-","-o","-ms-","-khtml-"],g=["transitionend","webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"],e=0;e<d.length;e++)if(d[e]in b.style){c.transitionstyle=d[e],c.prefixstyle=f[e],c.transitionend=g[e];break}return c.hastransition=c.transitionstyle,c.cursorgrabvalue=a(),c.hasmousecapture="setCapture"in b,b=null,m=c,c},o=function(a,b){function c(){var a=o.doc.css(r.trstyle);return a&&"matrix"==a.substr(0,6)?a.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function d(a,b,c){var d=a.css(b),e=parseFloat(d);if(isNaN(e)){e=s[d]||0;var f=3==e?c?o.win.outerHeight()-o.win.innerHeight():o.win.outerWidth()-o.win.innerWidth():1;return o.isie8&&e&&(e+=1),f?e:0}return e}function m(a,b){var c=0,d=0,e=1;if("wheelDeltaY"in a)e=o.opt.mousescrollstep/48,c=Math.floor(a.wheelDeltaX*e),d=Math.floor(a.wheelDeltaY*e);else{var f=a.detail?-1*a.detail:a.wheelDelta/40;f&&(b?c=Math.floor(f*o.opt.mousescrollstep):d=Math.floor(f*o.opt.mousescrollstep))}c&&(o.scrollmom&&o.scrollmom.stop(),o.lastdeltax+=c,o.synched("mousewheelx",function(){var a=o.lastdeltax;o.lastdeltax=0,o.rail.drag||o.doScrollLeftBy(a)})),d&&(o.scrollmom&&o.scrollmom.stop(),o.lastdeltay+=d,o.synched("mousewheely",function(){var a=o.lastdeltay;o.lastdeltay=0,o.rail.drag||o.doScrollBy(a)}))}var o=this;if(this.version="3.1.0",this.name="nicescroll",this.me=b,this.opt={doc:i("body"),win:!1,zindex:9e3,cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0},this.opt.snapbackspeed=80,a)for(var q in o.opt)"undefined"!=typeof a[q]&&(o.opt[q]=a[q]);this.doc=o.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML|div/.test(o.opt.win?o.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=o.opt.win!==!1,this.win=o.opt.win||(this.ispage?i(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?i(window):this.win,this.body=i("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=o.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1;do this.id="box"+h++;while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.nativescrollingarea=!1,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=n();var r=i.extend({},this.detected);this.canhwscroll=r.hastransform&&o.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&o.haswrapper,this.istouchcapable=!1,r.cantouch&&r.ischrome&&!r.isios&&!r.isandroid&&(this.istouchcapable=!0,r.cantouch=!1),r.cantouch&&r.ismozilla&&!r.isios&&(this.istouchcapable=!0,r.cantouch=!1),this.delayed=function(a,b,c,d){var e=o.delaylist[a],f=(new Date).getTime();return!d&&e&&e.tt?!1:(e&&e.tt&&clearTimeout(e.tt),void(e&&e.last+c>f&&!e.tt?o.delaylist[a]={last:f+c,tt:setTimeout(function(){o.delaylist[a].tt=0,b.call()},c)}:e&&e.tt||(o.delaylist[a]={last:f,tt:0},setTimeout(function(){b.call()},0))))},this.synched=function(a,b){function c(){o.onsync||(k(function(){o.onsync=!1;for(a in o.synclist){var b=o.synclist[a];b&&b.call(o),o.synclist[a]=!1}}),o.onsync=!0)}return o.synclist[a]=b,c(),a},this.unsynched=function(a){o.synclist[a]&&(o.synclist[a]=!1)},this.css=function(a,b){for(var c in b)o.saved.css.push([a,c,a.css(c)]),a.css(c,b[c])},this.scrollTop=function(a){return"undefined"==typeof a?o.getScrollTop():o.setScrollTop(a)},this.scrollLeft=function(a){return"undefined"==typeof a?o.getScrollLeft():o.setScrollLeft(a)},BezierClass=function(a,b,c,d,e,f,g){this.st=a,this.ed=b,this.spd=c,this.p1=d||0,this.p2=e||1,this.p3=f||0,this.p4=g||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(a){return 3*a*a*(1-a)},B3:function(a){return 3*a*(1-a)*(1-a)},B4:function(a){return(1-a)*(1-a)*(1-a)},getNow:function(){var a=(new Date).getTime(),b=1-(a-this.ts)/this.spd,c=this.B2(b)+this.B3(b)+this.B4(b);return 0>b?this.ed:this.st+Math.round(this.df*c)},update:function(a,b){return this.st=this.getNow(),this.ed=a,this.spd=b,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},r.hastranslate3d&&r.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(a){if(!a){var b=c();if(b)return 16==b.length?-b[13]:-b[5];if(o.timerscroll&&o.timerscroll.bz)return o.timerscroll.bz.getNow()}return o.doc.translate.y},this.getScrollLeft=function(a){if(!a){var b=c();if(b)return 16==b.length?-b[12]:-b[4];if(o.timerscroll&&o.timerscroll.bh)return o.timerscroll.bh.getNow()}return o.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(a){var b=document.createEvent("UIEvents");b.initUIEvent("scroll",!1,!0,window,1),a.dispatchEvent(b)}:document.fireEvent?function(a){var b=document.createEventObject();a.fireEvent("onscroll"),b.cancelBubble=!0}:function(){},r.hastranslate3d&&o.opt.enabletranslate3d?(this.setScrollTop=function(a,b){o.doc.translate.y=a,o.doc.translate.ty=-1*a+"px",o.doc.css(r.trstyle,"translate3d("+o.doc.translate.tx+","+o.doc.translate.ty+",0px)"),b||o.notifyScrollEvent(o.win[0])},this.setScrollLeft=function(a,b){o.doc.translate.x=a,o.doc.translate.tx=-1*a+"px",o.doc.css(r.trstyle,"translate3d("+o.doc.translate.tx+","+o.doc.translate.ty+",0px)"),b||o.notifyScrollEvent(o.win[0])}):(this.setScrollTop=function(a,b){o.doc.translate.y=a,o.doc.translate.ty=-1*a+"px",o.doc.css(r.trstyle,"translate("+o.doc.translate.tx+","+o.doc.translate.ty+")"),b||o.notifyScrollEvent(o.win[0])},this.setScrollLeft=function(a,b){o.doc.translate.x=a,o.doc.translate.tx=-1*a+"px",o.doc.css(r.trstyle,"translate("+o.doc.translate.tx+","+o.doc.translate.ty+")"),b||o.notifyScrollEvent(o.win[0])})):(this.getScrollTop=function(){return o.docscroll.scrollTop()},this.setScrollTop=function(a){return o.docscroll.scrollTop(a)},this.getScrollLeft=function(){return o.docscroll.scrollLeft()},this.setScrollLeft=function(a){return o.docscroll.scrollLeft(a)}),this.getTarget=function(a){return a?a.target?a.target:a.srcElement?a.srcElement:!1:!1},this.hasParent=function(a,b){if(!a)return!1;for(var c=a.target||a.srcElement||a||!1;c&&c.id!=b;)c=c.parentNode||!1;return c!==!1};var s={thin:1,medium:3,thick:5};this.getOffset=function(){if(o.isfixed)return{top:parseFloat(o.win.css("top")),left:parseFloat(o.win.css("left"))};if(!o.viewport)return o.win.offset();var a=o.win.offset(),b=o.viewport.offset();return{top:a.top-b.top+o.viewport.scrollTop(),left:a.left-b.left+o.viewport.scrollLeft()}},this.updateScrollBar=function(a){if(o.ishwscroll)o.rail.css({height:o.win.innerHeight()}),o.railh&&o.railh.css({width:o.win.innerWidth()});else{var b=o.getOffset(),c={top:b.top,left:b.left};c.top+=d(o.win,"border-top-width",!0);{(o.win.outerWidth()-o.win.innerWidth())/2}c.left+=o.rail.align?o.win.outerWidth()-d(o.win,"border-right-width")-o.rail.width:d(o.win,"border-left-width");var e=o.opt.railoffset;if(e&&(e.top&&(c.top+=e.top),o.rail.align&&e.left&&(c.left+=e.left)),o.locked||o.rail.css({top:c.top,left:c.left,height:a?a.h:o.win.innerHeight()}),o.zoom&&o.zoom.css({top:c.top+1,left:1==o.rail.align?c.left-20:c.left+o.rail.width+4}),o.railh&&!o.locked){var c={top:b.top,left:b.left},f=o.railh.align?c.top+d(o.win,"border-top-width",!0)+o.win.innerHeight()-o.railh.height:c.top+d(o.win,"border-top-width",!0),g=c.left+d(o.win,"border-left-width");o.railh.css({top:f,left:g,width:o.railh.width})}}},this.doRailClick=function(a,b,c){var d,e,f,g;o.rail.drag&&1!=o.rail.drag.pt||o.locked||o.rail.drag||(o.cancelScroll(),o.cancelEvent(a),b?(d=c?o.doScrollLeft:o.doScrollTop,f=c?(a.pageX-o.railh.offset().left-o.cursorwidth/2)*o.scrollratio.x:(a.pageY-o.rail.offset().top-o.cursorheight/2)*o.scrollratio.y,d(f)):(d=c?o.doScrollLeftBy:o.doScrollBy,f=c?o.scroll.x:o.scroll.y,g=c?a.pageX-o.railh.offset().left:a.pageY-o.rail.offset().top,e=c?o.view.w:o.view.h,d(f>=g?e:-e)))},o.hasanimationframe=k,o.hascancelanimationframe=l,o.hasanimationframe?o.hascancelanimationframe||(l=function(){o.cancelAnimationFrame=!0}):(k=function(a){return setTimeout(a,16)},l=clearInterval),this.init=function(){function a(){o.iframexd=!1;try{{var a="contentDocument"in this?this.contentDocument:this.contentWindow.document;a.domain}}catch(b){o.iframexd=!0,a=!1}if(o.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(o.forcescreen=!0,o.isiframe&&(o.iframe={doc:i(a),html:o.doc.contents().find("html")[0],body:o.doc.contents().find("body")[0]},o.getContentSize=function(){return{w:Math.max(o.iframe.html.scrollWidth,o.iframe.body.scrollWidth),h:Math.max(o.iframe.html.scrollHeight,o.iframe.body.scrollHeight)}},o.docscroll=i(o.iframe.body)),!r.isios&&o.opt.iframeautoresize&&!o.isiframe){o.win.scrollTop(0),o.doc.height("");var c=Math.max(a.getElementsByTagName("html")[0].scrollHeight,a.body.scrollHeight);o.doc.height(c)}o.resize(),r.isie7&&o.css(i(o.iframe.html),{"overflow-y":"hidden"}),o.css(i(o.iframe.body),{"overflow-y":"hidden"}),"contentWindow"in this?o.bind(this.contentWindow,"scroll",o.onscroll):o.bind(a,"scroll",o.onscroll),o.opt.enablemousewheel&&o.bind(a,"mousewheel",o.onmousewheel),o.opt.enablekeyboard&&o.bind(a,r.isopera?"keypress":"keydown",o.onkeypress),(r.cantouch||o.opt.touchbehavior)&&(o.bind(a,"mousedown",o.onmousedown),o.bind(a,"mousemove",function(a){o.onmousemove(a,!0)}),r.cursorgrabvalue&&o.css(i(a.body),{cursor:r.cursorgrabvalue})),o.bind(a,"mouseup",o.onmouseup),o.zoom&&(o.opt.dblclickzoom&&o.bind(a,"dblclick",o.doZoom),o.ongesturezoom&&o.bind(a,"gestureend",o.ongesturezoom))}if(o.saved.css=[],r.isie7mobile)return!0;if(r.hasmstouch&&o.css(o.ispage?i("html"):o.win,{"-ms-touch-action":"none"}),!o.ispage||!r.cantouch&&!r.isieold&&!r.isie9mobile){var b=o.docscroll;o.ispage&&(b=o.haswrapper?o.win:o.doc),r.isie9mobile||o.css(b,{"overflow-y":"hidden"}),o.ispage&&r.isie7&&("BODY"==o.doc[0].nodeName?o.css(i("html"),{"overflow-y":"hidden"}):"HTML"==o.doc[0].nodeName&&o.css(i("body"),{"overflow-y":"hidden"})),!r.isios||o.ispage||o.haswrapper||o.css(i("body"),{"-webkit-overflow-scrolling":"touch"});var c=i(document.createElement("div"));c.css({position:"relative",top:0,"float":"right",width:o.opt.cursorwidth,height:"0px","background-color":o.opt.cursorcolor,border:o.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":o.opt.cursorborderradius,"-moz-border-radius":o.opt.cursorborderradius,"border-radius":o.opt.cursorborderradius}),c.hborder=parseFloat(c.outerHeight()-c.innerHeight()),o.cursor=c;var d=i(document.createElement("div"));d.attr("id",o.id);var h,k,l=["left","right"];for(var m in l)k=l[m],h=o.opt.railpadding[k],h?d.css("padding-"+k,h+"px"):o.opt.railpadding[k]=0;d.append(c),d.width=Math.max(parseFloat(o.opt.cursorwidth),c.outerWidth())+o.opt.railpadding.left+o.opt.railpadding.right,d.css({width:d.width+"px",zIndex:o.ispage?o.opt.zindex:o.opt.zindex+2,background:o.opt.background}),d.visibility=!0,d.scrollable=!0,d.align="left"==o.opt.railalign?0:1,o.rail=d,o.rail.drag=!1;var n=!1;if(!o.opt.boxzoom||o.ispage||r.isieold||(n=document.createElement("div"),o.bind(n,"click",o.doZoom),o.zoom=i(n),o.zoom.css({cursor:"pointer","z-index":o.opt.zindex,backgroundImage:"url("+j+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),o.opt.dblclickzoom&&o.bind(o.win,"dblclick",o.doZoom),r.cantouch&&o.opt.gesturezoom&&(o.ongesturezoom=function(a){return a.scale>1.5&&o.doZoomIn(a),a.scale<.8&&o.doZoomOut(a),o.cancelEvent(a)},o.bind(o.win,"gestureend",o.ongesturezoom))),o.railh=!1,o.opt.horizrailenabled){o.css(b,{"overflow-x":"hidden"});var c=i(document.createElement("div"));c.css({position:"relative",top:0,height:o.opt.cursorwidth,width:"0px","background-color":o.opt.cursorcolor,border:o.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":o.opt.cursorborderradius,"-moz-border-radius":o.opt.cursorborderradius,"border-radius":o.opt.cursorborderradius}),c.wborder=parseFloat(c.outerWidth()-c.innerWidth()),o.cursorh=c;var q=i(document.createElement("div"));q.attr("id",o.id+"-hr"),q.height=1+Math.max(parseFloat(o.opt.cursorwidth),c.outerHeight()),q.css({height:q.height+"px",zIndex:o.ispage?o.opt.zindex:o.opt.zindex+2,background:o.opt.background}),q.append(c),q.visibility=!0,q.scrollable=!0,q.align="top"==o.opt.railvalign?0:1,o.railh=q,o.railh.drag=!1}if(o.ispage)d.css({position:"fixed",top:"0px",height:"100%"}),d.css(d.align?{right:"0px"}:{left:"0px"}),o.body.append(d),o.railh&&(q.css({position:"fixed",left:"0px",width:"100%"}),q.css(q.align?{bottom:"0px"}:{top:"0px"}),o.body.append(q));else{if(o.ishwscroll){"static"==o.win.css("position")&&o.css(o.win,{position:"relative"});var s="HTML"==o.win[0].nodeName?o.body:o.win;o.zoom&&(o.zoom.css({position:"absolute",top:1,right:0,"margin-right":d.width+4}),s.append(o.zoom)),d.css({position:"absolute",top:0}),d.css(d.align?{right:0}:{left:0}),s.append(d),q&&(q.css({position:"absolute",left:0,bottom:0}),q.css(q.align?{bottom:0}:{top:0}),s.append(q))}else{o.isfixed="fixed"==o.win.css("position");var t=o.isfixed?"fixed":"absolute";o.isfixed||(o.viewport=o.getViewport(o.win[0])),o.viewport&&(o.body=o.viewport),d.css({position:t}),o.zoom&&o.zoom.css({position:t}),o.updateScrollBar(),o.body.append(d),o.zoom&&o.body.append(o.zoom),o.railh&&(q.css({position:t}),o.body.append(q))}r.isios&&o.css(o.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),r.isie&&o.opt.disableoutline&&o.win.attr("hideFocus","true"),r.iswebkit&&o.opt.disableoutline&&o.win.css({outline:"none"})}if(o.opt.autohidemode===!1?o.autohidedom=!1:o.opt.autohidemode===!0?(o.autohidedom=i().add(o.rail),o.railh&&(o.autohidedom=o.autohidedom.add(o.railh))):"scroll"==o.opt.autohidemode?(o.autohidedom=i().add(o.rail),o.railh&&(o.autohidedom=o.autohidedom.add(o.railh))):"cursor"==o.opt.autohidemode?(o.autohidedom=i().add(o.cursor),o.railh&&(o.autohidedom=o.autohidedom.add(o.railh.cursor))):"hidden"==o.opt.autohidemode&&(o.autohidedom=!1,o.hide(),o.locked=!1),r.isie9mobile){o.scrollmom=new p(o),o.onmangotouch=function(){var a=o.getScrollTop(),b=o.getScrollLeft();if(a==o.scrollmom.lastscrolly&&b==o.scrollmom.lastscrollx)return!0;var c=a-o.mangotouch.sy,d=b-o.mangotouch.sx,e=Math.round(Math.sqrt(Math.pow(d,2)+Math.pow(c,2)));if(0!=e){var f=0>c?-1:1,g=0>d?-1:1,h=+new Date;if(o.mangotouch.lazy&&clearTimeout(o.mangotouch.lazy),h-o.mangotouch.tm>80||o.mangotouch.dry!=f||o.mangotouch.drx!=g)o.scrollmom.stop(),o.scrollmom.reset(b,a),o.mangotouch.sy=a,o.mangotouch.ly=a,o.mangotouch.sx=b,o.mangotouch.lx=b,o.mangotouch.dry=f,o.mangotouch.drx=g,o.mangotouch.tm=h;else{o.scrollmom.stop(),o.scrollmom.update(o.mangotouch.sx-d,o.mangotouch.sy-c);{h-o.mangotouch.tm}o.mangotouch.tm=h;var i=Math.max(Math.abs(o.mangotouch.ly-a),Math.abs(o.mangotouch.lx-b));o.mangotouch.ly=a,o.mangotouch.lx=b,i>2&&(o.mangotouch.lazy=setTimeout(function(){o.mangotouch.lazy=!1,o.mangotouch.dry=0,o.mangotouch.drx=0,o.mangotouch.tm=0,o.scrollmom.doMomentum(30)},100))}}};var u=o.getScrollTop(),v=o.getScrollLeft();o.mangotouch={sy:u,ly:u,dry:0,sx:v,lx:v,drx:0,lazy:!1,tm:0},o.bind(o.docscroll,"scroll",o.onmangotouch)}else{if(r.cantouch||o.istouchcapable||o.opt.touchbehavior||r.hasmstouch){o.scrollmom=new p(o),o.ontouchstart=function(a){if(a.pointerType&&2!=a.pointerType)return!1;if(!o.locked){if(r.hasmstouch)for(var b=a.target?a.target:!1;b;){var c=i(b).getNiceScroll();if(c.length>0&&c[0].me==o.me)break;if(c.length>0)return!1;if("DIV"==b.nodeName&&b.id==o.id)break;b=b.parentNode?b.parentNode:!1}o.cancelScroll();var b=o.getTarget(a);if(b){var d=/INPUT/i.test(b.nodeName)&&/range/i.test(b.type);if(d)return o.stopPropagation(a)}if(!("clientX"in a)&&"changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),o.forcescreen){var e=a,a={original:a.original?a.original:a};a.clientX=e.screenX,a.clientY=e.screenY}if(o.rail.drag={x:a.clientX,y:a.clientY,sx:o.scroll.x,sy:o.scroll.y,st:o.getScrollTop(),sl:o.getScrollLeft(),pt:2},o.opt.touchbehavior&&o.isiframe&&r.isie){var f=o.win.position();o.rail.drag.x+=f.left,o.rail.drag.y+=f.top}if(o.hasmoving=!1,o.lastmouseup=!1,o.scrollmom.reset(a.clientX,a.clientY),!r.cantouch&&!this.istouchcapable&&!r.hasmstouch){var g=b?/INPUT|SELECT|TEXTAREA/i.test(b.nodeName):!1;if(!g)return!o.ispage&&r.hasmousecapture&&b.setCapture(),o.cancelEvent(a);/SUBMIT|CANCEL|BUTTON/i.test(i(b).attr("type"))&&(pc={tg:b,click:!1},o.preventclick=pc)}}},o.ontouchend=function(a){return a.pointerType&&2!=a.pointerType?!1:o.rail.drag&&2==o.rail.drag.pt&&(o.scrollmom.doMomentum(),o.rail.drag=!1,o.hasmoving&&(o.hasmoving=!1,o.lastmouseup=!0,o.hideCursor(),r.hasmousecapture&&document.releaseCapture(),!r.cantouch))?o.cancelEvent(a):void 0};var w=o.opt.touchbehavior&&o.isiframe&&!r.hasmousecapture;o.ontouchmove=function(a,b){if(a.pointerType&&2!=a.pointerType)return!1;if(o.rail.drag&&2==o.rail.drag.pt){if(r.cantouch&&"undefined"==typeof a.original)return!0;o.hasmoving=!0,o.preventclick&&!o.preventclick.click&&(o.preventclick.click=o.preventclick.tg.onclick||!1,o.preventclick.tg.onclick=o.onpreventclick);var c=i.extend({original:a},a);if(a=c,"changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),o.forcescreen){var d=a,a={original:a.original?a.original:a};a.clientX=d.screenX,a.clientY=d.screenY}var e=ofy=0;if(w&&!b){var f=o.win.position();e=-f.left,ofy=-f.top}var g=a.clientY+ofy,h=g-o.rail.drag.y,j=o.rail.drag.st-h;o.ishwscroll&&o.opt.bouncescroll?0>j?j=Math.round(j/2):j>o.page.maxh&&(j=o.page.maxh+Math.round((j-o.page.maxh)/2)):(0>j&&(j=0,g=0),j>o.page.maxh&&(j=o.page.maxh,g=0));var k=a.clientX+e;if(o.railh&&o.railh.scrollable){var l=k-o.rail.drag.x,m=o.rail.drag.sl-l;o.ishwscroll&&o.opt.bouncescroll?0>m?m=Math.round(m/2):m>o.page.maxw&&(m=o.page.maxw+Math.round((m-o.page.maxw)/2)):(0>m&&(m=0,k=0),m>o.page.maxw&&(m=o.page.maxw,k=0))}if(o.synched("touchmove",function(){o.rail.drag&&2==o.rail.drag.pt&&(o.prepareTransition&&o.prepareTransition(0),o.rail.scrollable&&o.setScrollTop(j),o.scrollmom.update(k,g),o.railh&&o.railh.scrollable?(o.setScrollLeft(m),o.showCursor(j,m)):o.showCursor(j),r.isie10&&document.selection.clear())}),!r.ischrome&&!o.istouchcapable)return o.cancelEvent(a)}}}r.cantouch||o.opt.touchbehavior?(o.onpreventclick=function(a){return o.preventclick?(o.preventclick.tg.onclick=o.preventclick.click,o.preventclick=!1,o.cancelEvent(a)):void 0},o.onmousedown=o.ontouchstart,o.onmouseup=o.ontouchend,o.onclick=r.isios?!1:function(a){return o.lastmouseup?(o.lastmouseup=!1,o.cancelEvent(a)):!0},o.onmousemove=o.ontouchmove,r.cursorgrabvalue&&(o.css(o.ispage?o.doc:o.win,{cursor:r.cursorgrabvalue}),o.css(o.rail,{cursor:r.cursorgrabvalue}))):(o.onmousedown=function(a,b){if(!o.rail.drag||1==o.rail.drag.pt){if(o.locked)return o.cancelEvent(a);o.cancelScroll(),o.rail.drag={x:a.clientX,y:a.clientY,sx:o.scroll.x,sy:o.scroll.y,pt:1,hr:!!b};var c=o.getTarget(a);return!o.ispage&&r.hasmousecapture&&c.setCapture(),o.isiframe&&!r.hasmousecapture&&(o.saved.csspointerevents=o.doc.css("pointer-events"),o.css(o.doc,{"pointer-events":"none"})),o.cancelEvent(a)}},o.onmouseup=function(a){if(o.rail.drag){if(r.hasmousecapture&&document.releaseCapture(),o.isiframe&&!r.hasmousecapture&&o.doc.css("pointer-events",o.saved.csspointerevents),1!=o.rail.drag.pt)return;return o.rail.drag=!1,o.cancelEvent(a)}},o.onmousemove=function(a){if(o.rail.drag){if(1!=o.rail.drag.pt)return;if(r.ischrome&&0==a.which)return o.onmouseup(a);if(o.cursorfreezed=!0,o.rail.drag.hr){o.scroll.x=o.rail.drag.sx+(a.clientX-o.rail.drag.x),o.scroll.x<0&&(o.scroll.x=0);var b=o.scrollvaluemaxw;o.scroll.x>b&&(o.scroll.x=b)}else{o.scroll.y=o.rail.drag.sy+(a.clientY-o.rail.drag.y),o.scroll.y<0&&(o.scroll.y=0);var c=o.scrollvaluemax;o.scroll.y>c&&(o.scroll.y=c)}return o.synched("mousemove",function(){o.rail.drag&&1==o.rail.drag.pt&&(o.showCursor(),o.rail.drag.hr?o.doScrollLeft(Math.round(o.scroll.x*o.scrollratio.x)):o.doScrollTop(Math.round(o.scroll.y*o.scrollratio.y)))}),o.cancelEvent(a)}o.checkarea=!0}),(r.cantouch||o.opt.touchbehavior)&&o.bind(o.win,"mousedown",o.onmousedown),r.hasmstouch&&(o.css(o.rail,{"-ms-touch-action":"none"}),o.css(o.cursor,{"-ms-touch-action":"none"}),o.bind(o.win,"MSPointerDown",o.ontouchstart),o.bind(document,"MSPointerUp",o.ontouchend),o.bind(document,"MSPointerMove",o.ontouchmove),o.bind(o.cursor,"MSGestureHold",function(a){a.preventDefault()}),o.bind(o.cursor,"contextmenu",function(a){a.preventDefault()})),this.istouchcapable&&(o.bind(o.win,"touchstart",o.ontouchstart),o.bind(document,"touchend",o.ontouchend),o.bind(document,"touchcancel",o.ontouchend),o.bind(document,"touchmove",o.ontouchmove)),o.bind(o.cursor,"mousedown",o.onmousedown),o.bind(o.cursor,"mouseup",o.onmouseup),o.railh&&(o.bind(o.cursorh,"mousedown",function(a){o.onmousedown(a,!0)}),o.bind(o.cursorh,"mouseup",function(a){return o.rail.drag&&2==o.rail.drag.pt?void 0:(o.rail.drag=!1,o.hasmoving=!1,o.hideCursor(),r.hasmousecapture&&document.releaseCapture(),o.cancelEvent(a))})),o.bind(document,"mouseup",o.onmouseup),r.hasmousecapture&&o.bind(o.win,"mouseup",o.onmouseup),o.bind(document,"mousemove",o.onmousemove),o.onclick&&o.bind(document,"click",o.onclick),r.cantouch||o.opt.touchbehavior||(o.rail.mouseenter(function(){o.canshowonmouseevent&&o.showCursor(),o.rail.active=!0}),o.rail.mouseleave(function(){o.rail.active=!1,o.rail.drag||o.hideCursor()}),o.opt.sensitiverail&&(o.rail.click(function(a){o.doRailClick(a,!1,!1)}),o.rail.dblclick(function(a){o.doRailClick(a,!0,!1)}),o.cursor.click(function(a){o.cancelEvent(a)}),o.cursor.dblclick(function(a){o.cancelEvent(a)})),o.railh&&(o.railh.mouseenter(function(){o.canshowonmouseevent&&o.showCursor(),o.rail.active=!0}),o.railh.mouseleave(function(){o.rail.active=!1,o.rail.drag||o.hideCursor()})),o.zoom&&(o.zoom.mouseenter(function(){o.canshowonmouseevent&&o.showCursor(),o.rail.active=!0}),o.zoom.mouseleave(function(){o.rail.active=!1,o.rail.drag||o.hideCursor()}))),o.opt.enablemousewheel&&(o.isiframe||o.bind(r.isie&&o.ispage?document:o.docscroll,"mousewheel",o.onmousewheel),o.bind(o.rail,"mousewheel",o.onmousewheel),o.railh&&o.bind(o.railh,"mousewheel",o.onmousewheelhr)),o.ispage||r.cantouch||/HTML|BODY/.test(o.win[0].nodeName)||(o.win.attr("tabindex")||o.win.attr({tabindex:g++}),o.win.focus(function(a){e=o.getTarget(a).id||!0,o.hasfocus=!0,o.canshowonmouseevent&&o.noticeCursor()}),o.win.blur(function(){e=!1,o.hasfocus=!1}),o.win.mouseenter(function(a){f=o.getTarget(a).id||!0,o.hasmousefocus=!0,o.canshowonmouseevent&&o.noticeCursor()}),o.win.mouseleave(function(){f=!1,o.hasmousefocus=!1}))}if(o.onkeypress=function(a){if(o.locked&&0==o.page.maxh)return!0;a=a?a:window.e;var b=o.getTarget(a);if(b&&/INPUT|TEXTAREA|SELECT|OPTION/.test(b.nodeName)){var c=b.getAttribute("type")||b.type||!1;if(!c||!/submit|button|cancel/i.tp)return!0}if(o.hasfocus||o.hasmousefocus&&!e||o.ispage&&!e&&!f){var d=a.keyCode,g=a.ctrlKey||!1;if(o.locked&&27!=d)return o.cancelEvent(a);var h=!1;switch(d){case 38:case 63233:o.doScrollBy(72),h=!0;break;case 40:case 63235:o.doScrollBy(-72),h=!0;break;case 37:case 63232:o.railh&&(g?o.doScrollLeft(0):o.doScrollLeftBy(72),h=!0);break;case 39:case 63234:o.railh&&(g?o.doScrollLeft(o.page.maxw):o.doScrollLeftBy(-72),h=!0);break;case 33:case 63276:o.doScrollBy(o.view.h),h=!0;break;case 34:case 63277:o.doScrollBy(-o.view.h),h=!0;break;case 36:case 63273:o.railh&&g?o.doScrollPos(0,0):o.doScrollTo(0),h=!0;break;case 35:case 63275:o.railh&&g?o.doScrollPos(o.page.maxw,o.page.maxh):o.doScrollTo(o.page.maxh),h=!0;break;case 32:o.opt.spacebarenabled&&(o.doScrollBy(-o.view.h),h=!0);break;case 27:o.zoomactive&&(o.doZoom(),h=!0)}if(h)return o.cancelEvent(a)}},o.opt.enablekeyboard&&o.bind(document,r.isopera&&!r.isopera12?"keypress":"keydown",o.onkeypress),o.bind(window,"resize",o.resize),o.bind(window,"orientationchange",o.resize),o.bind(window,"load",o.resize),r.ischrome&&!o.ispage&&!o.haswrapper){var x=o.win.attr("style"),y=parseFloat(o.win.css("width"))+1;o.win.css("width",y),o.synched("chromefix",function(){o.win.attr("style",x)})}o.onAttributeChange=function(){o.lazyResize()},o.ispage||o.haswrapper||("WebKitMutationObserver"in window?(o.observer=new WebKitMutationObserver(function(a){a.forEach(o.onAttributeChange)}),o.observer.observe(o.win[0],{attributes:!0,subtree:!1})):(o.bind(o.win,r.isie&&!r.isie9?"propertychange":"DOMAttrModified",o.onAttributeChange),r.isie9&&o.win[0].attachEvent("onpropertychange",o.onAttributeChange))),!o.ispage&&o.opt.boxzoom&&o.bind(window,"resize",o.resizeZoom),o.istextarea&&o.bind(o.win,"mouseup",o.resize),o.resize()}"IFRAME"==this.doc[0].nodeName&&(this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){a.call(o.doc[0],!1)},500),o.bind(this.doc,"load",a))},this.showCursor=function(a,b){o.cursortimeout&&(clearTimeout(o.cursortimeout),o.cursortimeout=0),o.rail&&(o.autohidedom&&(o.autohidedom.stop().css({opacity:o.opt.cursoropacitymax}),o.cursoractive=!0),"undefined"!=typeof a&&a!==!1&&(o.scroll.y=Math.round(1*a/o.scrollratio.y)),"undefined"!=typeof b&&(o.scroll.x=Math.round(1*b/o.scrollratio.x)),o.cursor.css({height:o.cursorheight,top:o.scroll.y}),o.cursorh&&(o.cursorh.css(!o.rail.align&&o.rail.visibility?{width:o.cursorwidth,left:o.scroll.x+o.rail.width}:{width:o.cursorwidth,left:o.scroll.x}),o.cursoractive=!0),o.zoom&&o.zoom.stop().css({opacity:o.opt.cursoropacitymax}))},this.hideCursor=function(a){o.cursortimeout||o.rail&&o.autohidedom&&(o.cursortimeout=setTimeout(function(){o.rail.active&&o.showonmouseevent||(o.autohidedom.stop().animate({opacity:o.opt.cursoropacitymin}),o.zoom&&o.zoom.stop().animate({opacity:o.opt.cursoropacitymin}),o.cursoractive=!1),o.cursortimeout=0},a||400))},this.noticeCursor=function(a,b,c){o.showCursor(b,c),o.rail.active||o.hideCursor(a)},this.getContentSize=o.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:o.haswrapper?function(){return{w:o.doc.outerWidth()+parseInt(o.win.css("paddingLeft"))+parseInt(o.win.css("paddingRight")),h:o.doc.outerHeight()+parseInt(o.win.css("paddingTop"))+parseInt(o.win.css("paddingBottom"))}}:function(){return{w:o.docscroll[0].scrollWidth,h:o.docscroll[0].scrollHeight}},this.onResize=function(a,b){if(!o.win)return!1;if(!o.haswrapper&&!o.ispage){if("none"==o.win.css("display"))return o.visibility&&o.hideRail().hideRailHr(),!1;o.hidden||o.visibility||o.showRail().showRailHr()}var c=o.page.maxh,d=o.page.maxw,e={h:o.view.h,w:o.view.w};if(o.view={w:o.ispage?o.win.width():parseInt(o.win[0].clientWidth),h:o.ispage?o.win.height():parseInt(o.win[0].clientHeight)},o.page=b?b:o.getContentSize(),o.page.maxh=Math.max(0,o.page.h-o.view.h),o.page.maxw=Math.max(0,o.page.w-o.view.w),o.page.maxh==c&&o.page.maxw==d&&o.view.w==e.w){if(o.ispage)return o;var f=o.win.offset();if(o.lastposition){var g=o.lastposition;if(g.top==f.top&&g.left==f.left)return o}o.lastposition=f}if(0==o.page.maxh?(o.hideRail(),o.scrollvaluemax=0,o.scroll.y=0,o.scrollratio.y=0,o.cursorheight=0,o.setScrollTop(0),o.rail.scrollable=!1):o.rail.scrollable=!0,0==o.page.maxw?(o.hideRailHr(),o.scrollvaluemaxw=0,o.scroll.x=0,o.scrollratio.x=0,o.cursorwidth=0,o.setScrollLeft(0),o.railh.scrollable=!1):o.railh.scrollable=!0,o.locked=0==o.page.maxh&&0==o.page.maxw,o.locked)return o.ispage||o.updateScrollBar(o.view),!1;o.hidden||o.visibility?o.hidden||o.railh.visibility||o.showRailHr():o.showRail().showRailHr(),o.istextarea&&o.win.css("resize")&&"none"!=o.win.css("resize")&&(o.view.h-=20),o.ispage||o.updateScrollBar(o.view),o.cursorheight=Math.min(o.view.h,Math.round(o.view.h*(o.view.h/o.page.h))),o.cursorheight=Math.max(o.opt.cursorminheight,o.cursorheight),o.cursorwidth=Math.min(o.view.w,Math.round(o.view.w*(o.view.w/o.page.w))),o.cursorwidth=Math.max(o.opt.cursorminheight,o.cursorwidth),o.scrollvaluemax=o.view.h-o.cursorheight-o.cursor.hborder,o.railh&&(o.railh.width=o.page.maxh>0?o.view.w-o.rail.width:o.view.w,o.scrollvaluemaxw=o.railh.width-o.cursorwidth-o.cursorh.wborder),o.scrollratio={x:o.page.maxw/o.scrollvaluemaxw,y:o.page.maxh/o.scrollvaluemax};
var h=o.getScrollTop();return h>o.page.maxh?o.doScroll(o.page.maxh):(o.scroll.y=Math.round(o.getScrollTop()*(1/o.scrollratio.y)),o.scroll.x=Math.round(o.getScrollLeft()*(1/o.scrollratio.x)),o.cursoractive&&o.noticeCursor()),o.scroll.y&&0==o.getScrollTop()&&o.doScrollTo(Math.floor(o.scroll.y*o.scrollratio.y)),o},this.resize=function(){return o.delayed("resize",o.onResize,30),o},this.lazyResize=function(){o.delayed("resize",o.resize,250)},this._bind=function(a,b,c,d){o.events.push({e:a,n:b,f:c,b:d}),a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},this.bind=function(a,b,c,d){var e="jquery"in a?a[0]:a;if(e.addEventListener){if(r.cantouch&&/mouseup|mousedown|mousemove/.test(b)){var f="mousedown"==b?"touchstart":"mouseup"==b?"touchend":"touchmove";o._bind(e,f,function(a){if(a.touches){if(a.touches.length<2){var b=a.touches.length?a.touches[0]:a;b.original=a,c.call(this,b)}}else if(a.changedTouches){var b=a.changedTouches[0];b.original=a,c.call(this,b)}},d||!1)}o._bind(e,b,c,d||!1),"mousewheel"==b&&o._bind(e,"DOMMouseScroll",c,d||!1),r.cantouch&&"mouseup"==b&&o._bind(e,"touchcancel",c,d||!1)}else o._bind(e,b,function(a){return a=a||window.event||!1,a&&a.srcElement&&(a.target=a.srcElement),c.call(e,a)===!1||d===!1?o.cancelEvent(a):!0})},this._unbind=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=!1},this.unbindAll=function(){for(var a=0;a<o.events.length;a++){var b=o.events[a];o._unbind(b.e,b.n,b.f,b.b)}},this.cancelEvent=function(a){var a=a.original?a.original:a?a:window.event||!1;return a?(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.preventManipulation&&a.preventManipulation(),a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1,!1):!1},this.stopPropagation=function(a){var a=a.original?a.original:a?a:window.event||!1;return a?a.stopPropagation?a.stopPropagation():(a.cancelBubble&&(a.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==o.page.maxh||!o.ispage&&"none"==o.win.css("display")||(o.visibility=!0,o.rail.visibility=!0,o.rail.css("display","block")),o},this.showRailHr=function(){return o.railh?(0==o.page.maxw||!o.ispage&&"none"==o.win.css("display")||(o.railh.visibility=!0,o.railh.css("display","block")),o):o},this.hideRail=function(){return o.visibility=!1,o.rail.visibility=!1,o.rail.css("display","none"),o},this.hideRailHr=function(){return o.railh?(o.railh.visibility=!1,o.railh.css("display","none"),o):o},this.show=function(){return o.hidden=!1,o.locked=!1,o.showRail().showRailHr()},this.hide=function(){return o.hidden=!0,o.locked=!0,o.hideRail().hideRailHr()},this.toggle=function(){return o.hidden?o.show():o.hide()},this.remove=function(){o.doZoomOut(),o.unbindAll(),o.observer!==!1&&o.observer.disconnect(),o.events=[],o.cursor&&(o.cursor.remove(),o.cursor=null),o.cursorh&&(o.cursorh.remove(),o.cursorh=null),o.rail&&(o.rail.remove(),o.rail=null),o.railh&&(o.railh.remove(),o.railh=null),o.zoom&&(o.zoom.remove(),o.zoom=null);for(var a=0;a<o.saved.css.length;a++){var b=o.saved.css[a];b[0].css(b[1],"undefined"==typeof b[2]?"":b[2])}return o.saved=!1,o.me.data("__nicescroll",""),o.me=null,o.doc=null,o.docscroll=null,o.win=null,o},this.scrollstart=function(a){return this.onscrollstart=a,o},this.scrollend=function(a){return this.onscrollend=a,o},this.scrollcancel=function(a){return this.onscrollcancel=a,o},this.zoomin=function(a){return this.onzoomin=a,o},this.zoomout=function(a){return this.onzoomout=a,o},this.isScrollable=function(a){for(var b=a.target?a.target:a;b&&1==b.nodeType&&!/BODY|HTML/.test(b.nodeName);){var c=i(b),d=c.css("overflowY")||c.css("overflowX")||c.css("overflow")||"";if(/scroll|auto/.test(d))return b.clientHeight!=b.scrollHeight;b=b.parentNode?b.parentNode:!1}return!1},this.getViewport=function(a){for(var b=a&&a.parentNode?a.parentNode:!1;b&&1==b.nodeType&&!/BODY|HTML/.test(b.nodeName);){var c=i(b),d=c.css("overflowY")||c.css("overflowX")||c.css("overflow")||"";if(/scroll|auto/.test(d)&&b.clientHeight!=b.scrollHeight)return c;if(c.getNiceScroll().length>0)return c;b=b.parentNode?b.parentNode:!1}return!1},this.onmousewheel=function(a){return o.locked?!0:o.rail.scrollable?(o.opt.preservenativescrolling&&o.checkarea&&(o.checkarea=!1,o.nativescrollingarea=o.isScrollable(a)),o.nativescrollingarea?!0:o.locked?o.cancelEvent(a):o.rail.drag?o.cancelEvent(a):(m(a,!1),o.cancelEvent(a))):o.railh&&o.railh.scrollable?o.onmousewheelhr(a):!0},this.onmousewheelhr=function(a){return o.locked||!o.railh.scrollable?!0:(o.opt.preservenativescrolling&&o.checkarea&&(o.checkarea=!1,o.nativescrollingarea=o.isScrollable(a)),o.nativescrollingarea?!0:o.locked?o.cancelEvent(a):o.rail.drag?o.cancelEvent(a):(m(a,!0),o.cancelEvent(a)))},this.stop=function(){return o.cancelScroll(),o.scrollmon&&o.scrollmon.stop(),o.cursorfreezed=!1,o.scroll.y=Math.round(o.getScrollTop()*(1/o.scrollratio.y)),o.noticeCursor(),o},this.getTransitionSpeed=function(a){var b=Math.round(10*o.opt.scrollspeed),c=Math.min(b,Math.round(a/20*o.opt.scrollspeed));return c>20?c:0},o.opt.smoothscroll?o.ishwscroll&&r.hastransition&&o.opt.usetransition?(this.prepareTransition=function(a,b){var c=b?a>20?a:0:o.getTransitionSpeed(a),d=c?r.prefixstyle+"transform "+c+"ms ease-out":"";return o.lasttransitionstyle&&o.lasttransitionstyle==d||(o.lasttransitionstyle=d,o.doc.css(r.transitionstyle,d)),c},this.doScrollLeft=function(a,b){var c=o.scrollrunning?o.newscrolly:o.getScrollTop();o.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=o.scrollrunning?o.newscrollx:o.getScrollLeft();o.doScrollPos(c,a,b)},this.doScrollPos=function(a,b,c){var d=o.getScrollTop(),e=o.getScrollLeft();return((o.newscrolly-d)*(b-d)<0||(o.newscrollx-e)*(a-e)<0)&&o.cancelScroll(),0==o.opt.bouncescroll&&(0>b?b=0:b>o.page.maxh&&(b=o.page.maxh),0>a?a=0:a>o.page.maxw&&(a=o.page.maxw)),a==o.newscrollx&&b==o.newscrolly?!1:(o.newscrolly=b,o.newscrollx=a,o.newscrollspeed=c||!1,o.timer?!1:void(o.timer=setTimeout(function(){var c=o.getScrollTop(),d=o.getScrollLeft(),e={};e.x=a-d,e.y=b-c,e.px=d,e.py=c;var f=Math.round(Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))),g=o.newscrollspeed?o.newscrollspeed:f,h=o.prepareTransition(g);if(o.timerscroll&&o.timerscroll.tm&&clearInterval(o.timerscroll.tm),h>0){if(!o.scrollrunning&&o.onscrollstart){var i={type:"scrollstart",current:{x:d,y:c},request:{x:a,y:b},end:{x:o.newscrollx,y:o.newscrolly},speed:h};o.onscrollstart.call(o,i)}r.transitionend?o.scrollendtrapped||(o.scrollendtrapped=!0,o.bind(o.doc,r.transitionend,o.onScrollEnd,!1)):(o.scrollendtrapped&&clearTimeout(o.scrollendtrapped),o.scrollendtrapped=setTimeout(o.onScrollEnd,h));var j=c,k=d;o.timerscroll={bz:new BezierClass(j,o.newscrolly,h,0,0,.58,1),bh:new BezierClass(k,o.newscrollx,h,0,0,.58,1)},o.cursorfreezed||(o.timerscroll.tm=setInterval(function(){o.showCursor(o.getScrollTop(),o.getScrollLeft())},60))}o.synched("doScroll-set",function(){o.timer=0,o.scrollendtrapped&&(o.scrollrunning=!0),o.setScrollTop(o.newscrolly),o.setScrollLeft(o.newscrollx),o.scrollendtrapped||o.onScrollEnd()})},50)))},this.cancelScroll=function(){if(!o.scrollendtrapped)return!0;var a=o.getScrollTop(),b=o.getScrollLeft();return o.scrollrunning=!1,r.transitionend||clearTimeout(r.transitionend),o.scrollendtrapped=!1,o._unbind(o.doc,r.transitionend,o.onScrollEnd),o.prepareTransition(0),o.setScrollTop(a),o.railh&&o.setScrollLeft(b),o.timerscroll&&o.timerscroll.tm&&clearInterval(o.timerscroll.tm),o.timerscroll=!1,o.cursorfreezed=!1,o.showCursor(a,b),o},this.onScrollEnd=function(){o.scrollendtrapped&&o._unbind(o.doc,r.transitionend,o.onScrollEnd),o.scrollendtrapped=!1,o.prepareTransition(0),o.timerscroll&&o.timerscroll.tm&&clearInterval(o.timerscroll.tm),o.timerscroll=!1;var a=o.getScrollTop(),b=o.getScrollLeft();if(o.setScrollTop(a),o.railh&&o.setScrollLeft(b),o.noticeCursor(!1,a,b),o.cursorfreezed=!1,0>a?a=0:a>o.page.maxh&&(a=o.page.maxh),0>b?b=0:b>o.page.maxw&&(b=o.page.maxw),a!=o.newscrolly||b!=o.newscrollx)return o.doScrollPos(b,a,o.opt.snapbackspeed);if(o.onscrollend&&o.scrollrunning){var c={type:"scrollend",current:{x:b,y:a},end:{x:o.newscrollx,y:o.newscrolly}};o.onscrollend.call(o,c)}o.scrollrunning=!1}):(this.doScrollLeft=function(a){var b=o.scrollrunning?o.newscrolly:o.getScrollTop();o.doScrollPos(a,b)},this.doScrollTop=function(a){var b=o.scrollrunning?o.newscrollx:o.getScrollLeft();o.doScrollPos(b,a)},this.doScrollPos=function(a,b){function c(){if(o.cancelAnimationFrame)return!0;if(o.scrollrunning=!0,j=1-j)return o.timer=k(c)||1;var a=0,b=sy=o.getScrollTop();if(o.dst.ay){b=o.bzscroll?o.dst.py+o.bzscroll.getNow()*o.dst.ay:o.newscrolly;var d=b-sy;(0>d&&b<o.newscrolly||d>0&&b>o.newscrolly)&&(b=o.newscrolly),o.setScrollTop(b),b==o.newscrolly&&(a=1)}else a=1;var e=sx=o.getScrollLeft();if(o.dst.ax){e=o.bzscroll?o.dst.px+o.bzscroll.getNow()*o.dst.ax:o.newscrollx;var d=e-sx;(0>d&&e<o.newscrollx||d>0&&e>o.newscrollx)&&(e=o.newscrollx),o.setScrollLeft(e),e==o.newscrollx&&(a+=1)}else a+=1;if(2==a){if(o.timer=0,o.cursorfreezed=!1,o.bzscroll=!1,o.scrollrunning=!1,0>b?b=0:b>o.page.maxh&&(b=o.page.maxh),0>e?e=0:e>o.page.maxw&&(e=o.page.maxw),e!=o.newscrollx||b!=o.newscrolly)o.doScrollPos(e,b);else if(o.onscrollend){var f={type:"scrollend",current:{x:sx,y:sy},end:{x:o.newscrollx,y:o.newscrolly}};o.onscrollend.call(o,f)}}else o.timer=k(c)||1}var b="undefined"==typeof b||b===!1?o.getScrollTop(!0):b;if(o.timer&&o.newscrolly==b&&o.newscrollx==a)return!0;o.timer&&l(o.timer),o.timer=0;var d=o.getScrollTop(),e=o.getScrollLeft();((o.newscrolly-d)*(b-d)<0||(o.newscrollx-e)*(a-e)<0)&&o.cancelScroll(),o.newscrolly=b,o.newscrollx=a,o.bouncescroll&&o.rail.visibility||(o.newscrolly<0?o.newscrolly=0:o.newscrolly>o.page.maxh&&(o.newscrolly=o.page.maxh)),o.bouncescroll&&o.railh.visibility||(o.newscrollx<0?o.newscrollx=0:o.newscrollx>o.page.maxw&&(o.newscrollx=o.page.maxw)),o.dst={},o.dst.x=a-e,o.dst.y=b-d,o.dst.px=e,o.dst.py=d;var f=Math.round(Math.sqrt(Math.pow(o.dst.x,2)+Math.pow(o.dst.y,2)));o.dst.ax=o.dst.x/f,o.dst.ay=o.dst.y/f;var g=0,h=f;0==o.dst.x?(g=d,h=b,o.dst.ay=1,o.dst.py=0):0==o.dst.y&&(g=e,h=a,o.dst.ax=1,o.dst.px=0);var i=o.getTransitionSpeed(f);if(o.bzscroll=i>0?o.bzscroll?o.bzscroll.update(h,i):new BezierClass(g,h,i,0,1,0,1):!1,!o.timer){(d==o.page.maxh&&b>=o.page.maxh||e==o.page.maxw&&a>=o.page.maxw)&&o.checkContentSize();var j=1;if(o.cancelAnimationFrame=!1,o.timer=1,o.onscrollstart&&!o.scrollrunning){var m={type:"scrollstart",current:{x:e,y:d},request:{x:a,y:b},end:{x:o.newscrollx,y:o.newscrolly},speed:i};o.onscrollstart.call(o,m)}c(),(d==o.page.maxh&&b>=d||e==o.page.maxw&&a>=e)&&o.checkContentSize(),o.noticeCursor()}},this.cancelScroll=function(){return o.timer&&l(o.timer),o.timer=0,o.bzscroll=!1,o.scrollrunning=!1,o}):(this.doScrollLeft=function(a,b){var c=o.getScrollTop();o.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=o.getScrollLeft();o.doScrollPos(c,a,b)},this.doScrollPos=function(a,b){var c=a>o.page.maxw?o.page.maxw:a;0>c&&(c=0);var d=b>o.page.maxh?o.page.maxh:b;0>d&&(d=0),o.synched("scroll",function(){o.setScrollTop(d),o.setScrollLeft(c)})},this.cancelScroll=function(){}),this.doScrollBy=function(a,b){var c=0;if(b)c=Math.floor((o.scroll.y-a)*o.scrollratio.y);else{var d=o.timer?o.newscrolly:o.getScrollTop(!0);c=d-a}if(o.bouncescroll){var e=Math.round(o.view.h/2);-e>c?c=-e:c>o.page.maxh+e&&(c=o.page.maxh+e)}return o.cursorfreezed=!1,py=o.getScrollTop(!0),0>c&&0>=py?o.noticeCursor():c>o.page.maxh&&py>=o.page.maxh?(o.checkContentSize(),o.noticeCursor()):void o.doScrollTop(c)},this.doScrollLeftBy=function(a,b){var c=0;if(b)c=Math.floor((o.scroll.x-a)*o.scrollratio.x);else{var d=o.timer?o.newscrollx:o.getScrollLeft(!0);c=d-a}if(o.bouncescroll){var e=Math.round(o.view.w/2);-e>c?c=-e:c>o.page.maxw+e&&(c=o.page.maxw+e)}return o.cursorfreezed=!1,px=o.getScrollLeft(!0),0>c&&0>=px?o.noticeCursor():c>o.page.maxw&&px>=o.page.maxw?o.noticeCursor():void o.doScrollLeft(c)},this.doScrollTo=function(a,b){var c=b?Math.round(a*o.scrollratio.y):a;0>c?c=0:c>o.page.maxh&&(c=o.page.maxh),o.cursorfreezed=!1,o.doScrollTop(a)},this.checkContentSize=function(){var a=o.getContentSize();(a.h!=o.page.h||a.w!=o.page.w)&&o.resize(!1,a)},o.onscroll=function(){o.rail.drag||o.cursorfreezed||o.synched("scroll",function(){o.scroll.y=Math.round(o.getScrollTop()*(1/o.scrollratio.y)),o.railh&&(o.scroll.x=Math.round(o.getScrollLeft()*(1/o.scrollratio.x))),o.noticeCursor()})},o.bind(o.docscroll,"scroll",o.onscroll),this.doZoomIn=function(a){if(!o.zoomactive){o.zoomactive=!0,o.zoomrestore={style:{}};var b=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],c=o.win[0].style;for(var d in b){var e=b[d];o.zoomrestore.style[e]="undefined"!=typeof c[e]?c[e]:""}o.zoomrestore.style.width=o.win.css("width"),o.zoomrestore.style.height=o.win.css("height"),o.zoomrestore.padding={w:o.win.outerWidth()-o.win.width(),h:o.win.outerHeight()-o.win.height()},r.isios4&&(o.zoomrestore.scrollTop=i(window).scrollTop(),i(window).scrollTop(0)),o.win.css({position:r.isios4?"absolute":"fixed",top:0,left:0,"z-index":o.opt.zindex+100,margin:"0px"});var f=o.win.css("backgroundColor");return(""==f||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(f))&&o.win.css("backgroundColor","#fff"),o.rail.css({"z-index":o.opt.zindex+110}),o.zoom.css({"z-index":o.opt.zindex+112}),o.zoom.css("backgroundPosition","0px -18px"),o.resizeZoom(),o.onzoomin&&o.onzoomin.call(o),o.cancelEvent(a)}},this.doZoomOut=function(a){return o.zoomactive?(o.zoomactive=!1,o.win.css("margin",""),o.win.css(o.zoomrestore.style),r.isios4&&i(window).scrollTop(o.zoomrestore.scrollTop),o.rail.css({"z-index":o.ispage?o.opt.zindex:o.opt.zindex+2}),o.zoom.css({"z-index":o.opt.zindex}),o.zoomrestore=!1,o.zoom.css("backgroundPosition","0px 0px"),o.onResize(),o.onzoomout&&o.onzoomout.call(o),o.cancelEvent(a)):void 0},this.doZoom=function(a){return o.zoomactive?o.doZoomOut(a):o.doZoomIn(a)},this.resizeZoom=function(){if(o.zoomactive){var a=o.getScrollTop();o.win.css({width:i(window).width()-o.zoomrestore.padding.w+"px",height:i(window).height()-o.zoomrestore.padding.h+"px"}),o.onResize(),o.setScrollTop(Math.min(o.page.maxh,a))}},this.init(),i.nicescroll.push(this)},p=function(a){var b=this;this.nc=a,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(a,c){b.stop();var d=b.time();b.steptime=0,b.lasttime=d,b.speedx=0,b.speedy=0,b.lastx=a,b.lasty=c,b.lastscrollx=-1,b.lastscrolly=-1},this.update=function(a,c){var d=b.time();b.steptime=d-b.lasttime,b.lasttime=d;var e=c-b.lasty,f=a-b.lastx,g=b.nc.getScrollTop(),h=b.nc.getScrollLeft(),i=g+e,j=h+f;b.snapx=0>j||j>b.nc.page.maxw,b.snapy=0>i||i>b.nc.page.maxh,b.speedx=f,b.speedy=e,b.lastx=a,b.lasty=c},this.stop=function(){b.nc.unsynched("domomentum2d"),b.timer&&clearTimeout(b.timer),b.timer=0,b.lastscrollx=-1,b.lastscrolly=-1},this.doSnapy=function(a,c){var d=!1;0>c?(c=0,d=!0):c>b.nc.page.maxh&&(c=b.nc.page.maxh,d=!0),0>a?(a=0,d=!0):a>b.nc.page.maxw&&(a=b.nc.page.maxw,d=!0),d&&b.nc.doScrollPos(a,c,b.nc.opt.snapbackspeed)},this.doMomentum=function(a){var c=b.time(),d=a?c+a:b.lasttime,e=b.nc.getScrollLeft(),f=b.nc.getScrollTop(),g=b.nc.page.maxh,h=b.nc.page.maxw;b.speedx=h>0?Math.min(60,b.speedx):0,b.speedy=g>0?Math.min(60,b.speedy):0;var i=d&&50>=c-d;(0>f||f>g||0>e||e>h)&&(i=!1);var j=b.speedy&&i?b.speedy:!1,k=b.speedx&&i?b.speedx:!1;if(j||k){var l=Math.max(16,b.steptime);if(l>50){var m=l/50;b.speedx*=m,b.speedy*=m,l=50}b.demulxy=0,b.lastscrollx=b.nc.getScrollLeft(),b.chkx=b.lastscrollx,b.lastscrolly=b.nc.getScrollTop(),b.chky=b.lastscrolly;var n=b.lastscrollx,o=b.lastscrolly,p=function(){var a=b.time()-c>600?.04:.02;b.speedx&&(n=Math.floor(b.lastscrollx-b.speedx*(1-b.demulxy)),b.lastscrollx=n,(0>n||n>h)&&(a=.1)),b.speedy&&(o=Math.floor(b.lastscrolly-b.speedy*(1-b.demulxy)),b.lastscrolly=o,(0>o||o>g)&&(a=.1)),b.demulxy=Math.min(1,b.demulxy+a),b.nc.synched("domomentum2d",function(){if(b.speedx){var a=b.nc.getScrollLeft();a!=b.chkx&&b.stop(),b.chkx=n,b.nc.setScrollLeft(n)}if(b.speedy){var c=b.nc.getScrollTop();c!=b.chky&&b.stop(),b.chky=o,b.nc.setScrollTop(o)}b.timer||(b.nc.hideCursor(),b.doSnapy(n,o))}),b.demulxy<1?b.timer=setTimeout(p,l):(b.stop(),b.nc.hideCursor(),b.doSnapy(n,o))};p()}else b.doSnapy(b.nc.getScrollLeft(),b.nc.getScrollTop())}},q=b.fn.scrollTop;i.cssHooks.pageYOffset={get:function(a){var b=i.data(a,"__nicescroll")||!1;return b&&b.ishwscroll?b.getScrollTop():q.call(a)},set:function(a,b){var c=i.data(a,"__nicescroll")||!1;return c&&c.ishwscroll?c.setScrollTop(parseInt(b)):q.call(a,b),this}},b.fn.scrollTop=function(a){if("undefined"==typeof a){var b=this[0]?i.data(this[0],"__nicescroll")||!1:!1;return b&&b.ishwscroll?b.getScrollTop():q.call(this)}return this.each(function(){var b=i.data(this,"__nicescroll")||!1;b&&b.ishwscroll?b.setScrollTop(parseInt(a)):q.call(i(this),a)})};var r=b.fn.scrollLeft;i.cssHooks.pageXOffset={get:function(a){var b=i.data(a,"__nicescroll")||!1;return b&&b.ishwscroll?b.getScrollLeft():r.call(a)},set:function(a,b){var c=i.data(a,"__nicescroll")||!1;return c&&c.ishwscroll?c.setScrollLeft(parseInt(b)):r.call(a,b),this}},b.fn.scrollLeft=function(a){if("undefined"==typeof a){var b=this[0]?i.data(this[0],"__nicescroll")||!1:!1;return b&&b.ishwscroll?b.getScrollLeft():r.call(this)}return this.each(function(){var b=i.data(this,"__nicescroll")||!1;b&&b.ishwscroll?b.setScrollLeft(parseInt(a)):r.call(i(this),a)})};var s=function(b){var c=this;if(this.length=0,this.name="nicescrollarray",this.each=function(a){for(var b=0;b<c.length;b++)a.call(c[b]);return c},this.push=function(a){c[c.length]=a,c.length++},this.eq=function(a){return c[a]},b)for(a=0;a<b.length;a++){var d=i.data(b[a],"__nicescroll")||!1;d&&(this[this.length]=d,this.length++)}return this};d(s.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(a,b){a[b]=function(){var a=arguments;return this.each(function(){this[b].apply(this,a)})}}),b.fn.getNiceScroll=function(a){if("undefined"==typeof a)return new s(this);var b=i.data(this[a],"__nicescroll")||!1;return b},b.extend(b.expr[":"],{nicescroll:function(a){return i.data(a,"__nicescroll")?!0:!1}}),i.fn.niceScroll=function(a,b){"undefined"==typeof b&&("object"!=typeof a||"jquery"in a||(b=a,a=!1));var c=new s;"undefined"==typeof b&&(b={}),a&&(b.doc=i(a),b.win=i(this));var d=!("doc"in b);return d||"win"in b||(b.win=i(this)),this.each(function(){var a=i(this).data("__nicescroll")||!1;a||(b.doc=d?i(this):b.doc,a=new o(b,i(this)),i(this).data("__nicescroll",a)),c.push(a)}),1==c.length?c[0]:c},window.NiceScroll={getjQuery:function(){return b}},i.nicescroll||(i.nicescroll=new s)}(jQuery);
//# sourceMappingURL=jquery.min.js.map